---
layout: post
title: "Xamarin Mono"
excerpt: "Microsoft made it free, as in if you have a license for Visual Studio"
tags: [IoT, Microsoft, Xamarin]
image:
# pic silver robot white skin handshake 1900x500
  feature: https://cloud.githubusercontent.com/assets/300046/14622149/306629f0-0585-11e6-961a-dc8f60dadbf6.jpg
  credit: 
  creditlink: 
comments: true
---
<i>{{ page.excerpt }}</i>

{% include _toc.html %}

This article currently contains my notes about installing and using 
Microsoft's Xamarin app development Framework which use Microsoft's 
C# language to write both iOS and Android Apps.

TODO: My objective is to build a "Hello World" sample app code that 
compiles and builds from a single command,
while I learn to be a Xamarin Certified Mobile Developer.
Right now (January 2017), none of the samples "Just Work".


## Run-times on mobile #

<a target="_blank" href="http://www.mono-project.com/">Mono</a> 
is the run-time engine equivalent to 
Microsoft's .NET Core on other platforms. 
It implements .NET APIs and plays with .NET Standard so you donâ€™t have to worry about the implmentation under the hood.
In fact, there is a single .NET super optmized runtime that brings 
.NET to iOS, Android, macOS, Apple tvOS, IoT, Linux, PS4, Xbox, etc. 

Code used across the different platforms are stored in a PCL (Platform Class Library).

Xmarin.iOS uses AOT (Ahead of Time Compilation) which takes IL and compiles it into native code with the intention of executing the resulting binary file natively.

Xamarin.Android uses JIT (Just in Time Compilation) which takes IL and compiles it preperation for running as native code.

Mono's UI is developed using XAML (a variant of XML to define UI elements)
referenced by "code behind" written in Microsoft's <strong>C# version 6.0</strong> programming language
that define behaviors.

   PROTIP: Jumping into a platform is a rather big career decision.
   Few people have time to be expert in tools for several languages.
   The fragmentation in Java and Android tools makes it difficult to be quickly productive when moving jobs
   since there are so many variations of tools to master.
   Even though Microsoft does limit and change (abandon) technologies over time,
   their ecosystem offers more focused training resources and help for learners make it easier to master
   and provides better movement among employers. My two cents.


   <a name="GetLicense"></a>

## Components and pricing from MSDN #

The home page for Xamarin is <a target="_blank" href="https://xamarin.com/">
   xamarin.com</a>. Click on <strong>Products</strong>.

   ![xamarin ecosystem 20161025](https://cloud.githubusercontent.com/assets/14143059/19684717/0c2e3880-9a76-11e6-9e3a-744d0218d5e1.png)

   Let's review the components by looking at pricing as well while 
   we install the software.

   PROTIP: It costs <strong>$11,859.50</strong> per person
   to use the entire ecosystem the first year.

   * $5,999 for Visual Studio Enterprise
   * $1,995 for education
   * $3,865.50 to test 3 devices
   * $0 for <a href="#HockeyApp">deployment and crash monitoring</a>
   * $1,000 for optional <a href="#FancyControls">fancy controls</a> 
   for Xamarin Forms from Infragistics
   <br /><br />
   PROTIP: Some Microsoft resellers online give discounts.

   ### Alternative test clouds

   PROTIP: As with all cloud arrangements,
   have agreements in place to use alternative test clouds such as Amazon Device Cloud
   and <a target="_blank" href="https://www.perfecto.com/">Perfecto</a>.

   Alternative test clouds may have a wider choice of devices.
   Most importantly, one cloud may have 
   <strong>new devices earlier</strong> than others.

   The Perfecto cloud offers a <strong>private</strong> option.
   On-premises test device vendors offer complete secrecy.
   And MSDN subscribers get a 
   <a target="_blank" href="https://msdn.microsoft.com/subscriptions/dd347471.aspx">
   discount</a>.

   <hr />

   YOUTUBE: 
   <a target="_blank" href="https://www.youtube.com/watch?v=3QR67V2x90w">
   Webinar selling Xamarin v4</a>


   ### Xamarin Platform #

   "Platform" here refers to the tools to develop software.

   PROTIP: Different IDEs are installed and used on Windows and Mac.

   <img width="646" alt="xamarin studios 20161025" src="https://cloud.githubusercontent.com/assets/14143059/19685008/920536ec-9a77-11e6-94a0-2fac50b0a303.png">

   NOTE: Xamarin Studio is no longer available on Windows.

   PROTIP: To get Xamarin for Mac, (renamed to Visual Studio 2017 for Mac)
   don't click on "Download Now" on the marketing page,
   but on MSDN as described below.


   ### Visual Studio on Windows #

   Those developing on Windows machines work on iPhone by
   running a remote session on a Mac through a cable.

   NOTE: Since mobile devices will need to use virtualization,
   the IDE can't also be running in a virtualized environment such as
   VMWare Fusion.

   NOTE: Installation includes 
   Xamarin Mac Agent (previously called the Xamarin Build Host).
   Its use includes enabling Remote Login on the Mac
   on the same Network subnet with the Mac's IP address.


   There is a free "Community" edition of Visual Studio on Windows.
   <a target="_blank" href="https://www.xamarin.com/compare-visual-studio/">
   But the Community edition doesn't include support</a>.

0. Go to<br />
   <a target="_blank" href="https://www.xamarin.com/download/">
   https://www.xamarin.com/download</a>.

0. Create an account or SignIn.

   PROTIP: Many open several accounts for this to get around 
   Microsoft's 30-day trial limits plus 
   <a target="_blank" href="https://store.xamarin.com/account/my/subscription/redeemextension">
   redeeming</a> a 30 day extension approval.

   Your picture appears from your email based on 
   <a target="_blank" href="https://www.gravatar.com/">
   Gravatar.com</a>.

0. Select Product and Xamarin Platform.
   Click "Download now for free".

   It recognizes what operating system you're using 
   based on what browser you used to visit the site.

0. Fill out the form to begin downloading.

0. Obtain a VS 2015 Community Edition web
   installer from https://visualstudio.com.

0. Run the downloader and it downloads the rest.

0. From your Installer folder, invoke the downloaded file.

   Skip to <a href="#PostInstall">post-install below</a>
   if you are not installing on a Mac.


   ### Xamarin Studio on Mac #

   <strong>Parallels</strong> software not being true virtualization 
   is an advantage is this case.
   On a Mac, one can install <strong>Parallels</strong> software,
   then install Windows 10 and Visual Studio 2015 for Windows inside that,
   and you'll be able to run Windows Phone emulators as well.
   
   PROTIP: Windows Phone is dead anyway in 2016.
   So this approach is not recommended.

0. Install Apple's XCode on your Mac's App Store.

   NOTE: Each version is related to a specific version of the Apple OS Mac operating system.

0. Buy the MSDN subscription with an email you'll be using to build software.

   <a target="_blank" href="https://www.visualstudio.com/vs/pricing/">
   https://www.visualstudio.com/vs/pricing</a> says 
   Visual Studio Enterprise is<br />
   <strong>$5,999</strong> for the first year and then each additional year<br />
   $2,569</a>.

   However, Mac users now still need an <strong>Enterprise Visual Studio</strong> 
   license.

0. Use the email you used to get your license to login MSDN.com,
   Subscriptions at:<br />
   <a target="_blank" href="https://msdn.microsoft.com/subscriptions/manage/hh442900">
   https://msdn.microsoft.com/subscriptions/manage/hh442900</a>.

0. Scroll down to <strong>Xamarin Studio (for OSX)</strong> and 
   click "Register and Download".

   NOTE: Xamarin was an independent organization (in San Francisco) 
   which charged <strong>$5,697 per user per year per platform</strong>

   * Xamarin.Android Visual Studio Enterprise 
   * Xamarin.iOS Visual Studio Enterprise
   * Xamarin.Mac Visual Studio Enterprise
   <br /><br />

   See https://developer.xamarin.com/guides/cross-platform/getting_started/license/

0. Create a Xamarin account if you don't already have one.
   Click Subscribe.

   Microsoft bought Xamarin in Feb. 2016
   and (at Build 2016), so there is still a separate system.

   PROTIP: Notice it's an annual renewal.

   PROTIP: Work on Xamarin Studio has stopped on Windows.
   So Microsoft is likely working on a Visual Studio for Mac.
   Until that becomes available, do the following.

0. Click on the "Download Now" on this page.

0. During VS installation, under 
   <strong>Cross Platform Mobile Development</strong>,
   choose <strong>Custom</strong> and
   select feature <strong>C#/.NET (Xamarin) [3rd Party]</strong>.

   If you already have VS installed, go to the Control Panel 
   and change the features.

0. PROTIP: Since different versions of installers have the same name,
   XamarinInstaller.dmg, change the name downloaded with a date such as
   
   XamarinInstaller_2016.10.24.dmg, 22.2 MB according to my Finder.

   PROTIP: Before you begin, make sure you have enough disk space.
   The whole install is near 3 GB (2.2 GB they say).

0. Double-click on it in your Downloads folder to expand.

0. Double-click the orange icon to open another window.
   If you don't see the new window press command+tab and tab to the orange icon.

0. Check the checkbox and click Accept.

0. Click on Dependencies and unselect the <strong>components</strong> you don't want, then
   click Continue.

   Notice the disk space usage (242 MB) and path (with "mac" subsituted for your account name):

   <tt><strong>
   /Users/mac/Library/Developer/Xamarin/android-sdk-macosx
   </strong></tt>

0. Click Continue.
0. Click Install.
0. Check "I agree" to the Licenses, then Continue.

   PROTIP: You'll be prompted several times to enter your Mac user's password.
   So don't walk off.

0. While you wait for the download, return to the "Xamarin Installer" pop-up screen, 
   click the red X at the upper-left corner to dismiss it.

0. While you wait, visit other pages to sign up for:

   * <a target="_blank" href="https://store.xamarin.com/o?item=XU%20SUB">
   Xamarin University Mobile Training</a> (selected class videos and materials)
   for Microsoft Visual Studio is<br />
   <strong>$999 per year</strong> per person
   after <strong>30 days</strong>. Tick tock.
   (previously, it was $1,995)

   * Xamarin Test Cloud 
   <a target="_blank" href="https://www.xamarin.com/test-cloud#pricing">
   "Scale" level</a> provides 5 hours a day for 3 concurrent devices for<br />
   <strong>$3,865.50 per year</strong> ($379/month billed annually).

   $4,548 per year, after a 25% discount of $1,137, is <strong>$3,411</strong>.
  
   The lower "Start" level provides just one device for one hour per day,
   for $99/month. If you don't use it one day, you've donated the money to Microsoft.

   This now Microsoft offering may be low when compared against charges and additional setup needed to
   use alternatives such as Amazon's Test Cloud, 
   Perfecto, and others.

   But to be able to use other clouds one needs to consider cross-compatibility of test code. 
   Xamarin Test Cloud tests supports <strong>a different test framework for each language</strong>:

   * Ruby with the Calabash framework, 
   * C# with Xamarin.UITest, and 
   * Java via the Appium framework 


   ### Finish installation

0. When "Installation successful" appears, 
   click "Quit" or "Start" to invoke Visual Studio Community app.

0. When Xamarin Studio opens (as "community"), click Login.

0. After Login, "Enterprise" should appear at the upper left corner.

0. PROTIP: Clean-up disk: In Finder, alt-click the XamarinInstaller .dmg file
   to move it to Trash. In the left menu eject the "Xamarin Installer".
   Also clean out your Trash can to recover disk space.

0. PROTIP: If you're going to be using it a lot:
   draw 3 fingers together on the touchpad. Click "X" for Xamarin.

   You'll see "Xamarin Studio", Xamarin Profile, and Xamarin Workbooks.

0. Drag and drop the Xamarin Studio icon to the bar at the bottom of the screen.

   ### Android Player

0. Download "Xamarin Android Player.dmg" from:

   https://developer.xamarin.com/releases/android/android-player/

0. Alt-click to install it.

The above only needs to be done once per machine.

   
<a name="Development"></a>

## Development #

0. When Xamarin Studio opened and Logged in:

   In the center, it displays links to news items.
   On the left panel it displays a set of sample apps for download as zips:

   * app-crm-master.zip - 33.7 MB
   * MyShoppe-master.zip - 5.1 MB
   * XWeather-master.zip - 3.6 MB

0. PROTIP: Instead of clicking to download one or more of the Forms apps,
   first install the app without building from source code from 
   https://github.com/xamarin/app-crm/wiki/Install-the-app-NOW-without-building-from-source-code


   ### Sample app files

   README.md says the app is preconfigured to consume our Azure service instance
   (https://tryappservice.azure.com/en-us) .

   Preview.png 


   ### Develop approaches

   PROTIP: The types of development approaches:

   * Silo approach of writing Objective-C code for iOS and Java code for Android provided by vendors.
   This requires different developer teams.

   * Black Box takes a single (HTML/JavaScript) code base to create multiple apps with 
   "minimum common" features common across the platforms.

   * Xamarin Forms 

   Xamarin Forms is simpler to program, but you might run into a "brick wall"
   when you need to re-code using the native coding approach.
   But if you can live with eventual limitations,
   Forms is a quick way to get to an app quickly.


## Xamarin Forms #

QUESTION: Sample apps Task List and Step Counter ???

0. Here are some YOUTUBE: Overview of 

   * https://www.youtube.com/watch?v=93ZU6j59wL4
    Dec 21, 2016 

   * https://www.youtube.com/watch?v=hBFyJ9HhK2s

0. Read:

   https://developer.xamarin.com/guides/xamarin-forms/getting-started/

   "Xamarin.Forms is a new library that enables you to build native UIs for iOS, Android and Windows Phone from a single, shared C# codebase. It provides more than 40 cross-platform controls and layouts which are mapped to native controls at runtime, which means that your user interfaces are fully native."

   UI controls are coded at a high level in C# for the library to render them as native counterparts
   in each platform.

   Xamarin.Forms controls are a wrapper on native controls, they aren't new controls themselves.

   v4 introduced a new SSH-based build host which replaces the old and buggy build host. 
   
   v3 introduced Xamarin.Forms supports Native UI development for iOS, Android, and Windows.


   ### Sample Apps #

   ### Hanselman Forms #

0. Read <a target="_blank" href="http://www.hanselman.com/blog/XamarinFormsWriteOnceRunEverywhereANDBeNative.aspx">
   Scott Hanselman's blog about writing the library</a> May 2014.

   The app aggregates his web blog and tweets.

0. On your local Terminal, create a folder such as

   <pre>~/gits/wilsonmar/Hanselman.Forms</pre>

0. Got to Hanselman's Form app code repo 

   https://github.com/jamesmontemagno/Hanselman.Forms

0. Fork it to your own GitHub account.

0. Clone your edition of Hanselman's Form app code (instead of "jamesmontemagno"):

   <pre><strong>
   git clone https://github.com/jamesmontemagno/Hanselman.Forms --depth=1
   </strong></pre>


   ### Create Project #

0. In Visual Studio 2015 or Xamarin Studio,

0. Click File, <strong>New Project</strong>.
0. Select under <strong>Visual C#</strong> the
   <strong>Cross-Pltform</strong>.
0. Select "Blank App (Xmarin.Forms Portable)".

   PROTIP: Xamarin Studio stores projects using the Visual Studio .sln file format.
   So solution files are interchangeable between Xamarin Studio and Visual Studio regardless of IDE used.

   PROTIP: Notice in the Solution Explorer code for .Droid and .iOS
   are generated automatically.

   QUESTION: How does this address the issue of the UI look and feel,
   such as button placement, etc. as defined by Google and Apple
   being very different?

   ### Plug-ins for Xamarin Forms #

   Gaps in Xamarin Forms functionality are filled by
   <a target="_blank" href="https://github.com/jamesmontemagno">
   https://github.com/jamesmontemagno</a> 
   by James Montemagno (@JamesMontemagno),
   Principal Program Manager for @Xamarin at Microsoft.



   <a name="FancyControls"></a>

   ### Fancier Controls #

   PROTIP: If you want fancier UI and have $1000,
   consider the Infragistics Xamarin Forms library at
   <a target="_blank" href="http://www.infragistics.com/products/xamarin-forms">
   http://www.infragistics.com/products/xamarin-forms</a>

   This is coded in a similar way and look similar as on other platforms.
   So it's good to keep up.

<!--
## Homebrew Mono #

<a target="_blank" href="http://stackoverflow.com/search?q=xamarin">
In StackOverflow</a> 
are several complaints about brew issues.

0. Rather than manually download the installer from 
   https://xamarin.com,
   installing mono-mdk instead of mono from homebrew.

   ```
   brew cask install mono-mdk
   ```

You can also modify your PATH to use mono-mdk's binary:

export PATH=/Library/Frameworks/Mono.framework/Versions/Current/Commands:$PATH 

https://www.visualstudio.com/vs/pricing/

-->

## Resources #

Listed by the most recent and complete.

0. <a target="_blank" ref="nofollow" href="https://www.youtube.com/watch?v=6MQXkUfIn9M">
   Xmarin Tutorial for Absolute Beginners May 8, 2016</a>
   on YouTube's Ms Academy by
   Christopher Harrison (@geektrainer) and
   Gerry O'Brien (@gerryod, Content Developer)
   has been cancelled.

1 | Introducing Xamarin
Learn what Xamarin is all about and how you can create cross-platform mobile applications.

2 | Installing Xamarin
See how to install Xamarin, and get started with app development.

3 | Exploring a Xamarin project
Create a new project, and create your first application.

4 | Using emulators
Get started with Windows Phone, iOS, and Android emulators.

5 | Debugging
Get started with troubleshooting.

6 | Deployment
Deploy your app to a device.

0. <a target="_blank" href="https://www.linkedin.com/learning/xamarin-essential-training/">
   Xamarin Essential Training on LinkedIn</a>
   by Walt Ritscher

0. https://www.linkedin.com/learning/xamarin-essential-training/


0. Read up <a target="_blank" href="https://developer.xamarin.com/guides/cross-platform/xamarin-studio/">
   https://developer.xamarin.com/guides/cross-platform/xamarin-studio</a>


<a name="HockeyApp"></a>

## Insights in HockeyApp #

HockeyApp at<br />
<a target="_blank" href="https://www.hockeyapp.net/">
hockeyapp.net</a>
is a cloud-hosted solution for beta app distribution and
collection of real-time crash reports and user metrics and feedback.

Xamarin Insights is being merged into HockeyApp.


## Support

https://www.xamarin.com/thanks
offers these:

* hello@xamarin.com email

* Phone +1 (855) 926-2746.

* https://developer.xamarin.com

* <a target="_blank" href="https://bugzilla.xamarin.com/">https://bugzilla.xamarin.com</a>
   houses bugs reported in Xamarin.

* https://developer.xamarin.com/guides/cross-platform/getting_started/

* https://university.xamarin.com/classes/track/self-guided

* https://forums.xamarin.com/

* <a target="_blank" href="https://www.youtube.com/channel/UCe-f02uZgEXdHmHpC3loAQg/">
   Xamarin channel on YouTube</a>
   
* https://developer.xamarin.com/?cs=1
   Xamarin University Self-Guided Learning (free)


## Rock Stars #

Wallace McClure is Microsoft's MVP on Xamarin.
Has he moved on to other ventures?

<strong>Pierce Boggan</strong> (@pierceboggan)
Program Manager at Microsoft for @XamarinHQ.
He and Mike James

<strong>James Montemagno</strong>
Principal Program Manager of Mobile Developer Tools at Microsoft Seattle
(<a target="_blank" href="http://motzcod.es/">motzcod.es</a>)
has a <a target="_blank" href="https://github.com/jamesmontemagno">
GitHub</a> repo containing <a target="_blank" href="https://github.com/jamesmontemagno/Xamarin.Plugins">
popular plug-ins</a>, which adds to https://github.com/xamarin/XamarinComponents.

<strong>Chris Hardy</strong>
(<a target="_blank" href="https://twitter.com/chrisntr">@chrisntr</a>,
<a target="_blank" href="https://weblogs.asp.net/chrishardy">weblogs.asp.net/chrishardy</a>)

He began in 2013 the <a target="_blank" href="https://weblogs.asp.net/chrishardy/first-episode-of-the-xamarin-podcast">Xamarin podcast</a> on <a target="_blank" href="https://itunes.apple.com/podcast/xamarin-podcast/id691368176?mt=2"> iTunes</a> with

<strong>Michael Stonis</strong> (@michaelstonis)
@TheEightBot Development Lead and President. Xamarin MVP.

Among the 35 <a target="_blank" href="https://www.xamarin.com/mvp">
Xamarin MVPs</a>

   * <strong>David Ortinau</strong> in St. Louis
   <br /><br />

Charles Petzold's coverage of Xamarin Forms.


## More on IoT #

This is one of a series on IoT:

{% include iot_links.html %}




