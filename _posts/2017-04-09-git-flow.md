---
layout: post
title: "Git Flow (in and out of GitHub)"
excerpt: "The commands, explained in 3 minutes"
shorturl: "https://goo.gl/XAIp7m"
modified:
tags: []
image:
# feature: pic blue black stars spin 1900x500.jpg
  feature: https://cloud.githubusercontent.com/assets/300046/14621973/fe6e21a6-0583-11e6-9a94-a969a51759b6.jpg
  credit: Jeremy Thomas
  creditlink: https://www.flickr.com/photos/132218932@N03/page2
comments: true
---
<i>{{ page.excerpt }}</i>
<hr />

{% include _toc.html %}

This video shows the typical commands to a "Git Flow" workflow for someone with a Git command-line client installed. 


## Video

<iframe width="560" height="315" src="https://www.youtube.com/embed/9i9VPsefW-4" frameborder="0" allowfullscreen> </iframe>

(The diagram above was created using Camtasia 3 on Mac based on screenshots in PowerPoint containing the narrative below.)


## Narrative (captioning)

Here we have some stranger's repository in GitHub which we have no rights to edit. 

But if you fork it into your own GitHub account, you would then have rights to change.

When working on your own laptop, create an account folder into which a git client is used to clone repositories from GitHub. The clone command creates a repository folder and creates a folder named .git which contains the objects used to track changes to the repository. 

From those objects, Git assembles files such as README in the repository's working directory. Git puts different files there based on 
the current branch checked out. This is why we do a git branch command to see what branches are defined, which Git defaults to the master branch. But many organizations protect it for production use, and create a “development” or “dev” branch for developers to work with. A git checkout command can create a new branch, such as "feature1". 

We can then use vim or another text editor (such as nano or atom) to change the contents of files.

The git status command details the status of files in the repo.

Whenever a file is changed, it needs to be added back to Git staging. The dot selects all files changed. The dash capital A parameter specifies that any deleted file be included. But many prefer to specifically add individual files to go into each particular commit.

The commit supplies a message describing changes, and applies to all files added.

In this push command, the origin master is optional as it's typically the default.

Even though we don't have the rights, we can file on GitHub a pull request for the committers to pull our request for changes. When a committer of that repo merges (or in other words, accepts) your PR, you'll get an email from GitHub.

Next, let's look at what happens if, over time, changes occur in the upstream repo. The git remote –verification command tells us that the origin remote was created, as usual, with the repo. To enable dowload by Git, we add the upstream remote. 

To obtain changes locally, many would rather NOT issue a git pull upstream command, which blindly fetches and automatically merges changes. Differences in the same line within the same file, Git is forced into automatic conflict resolution mode.

So many prefer to take it one step at a time -- first a git fetch upstream, then a git checkout master. Now we can use a utility such as gitk to see what changes came in. If they don't affect you, do a git merge. Notice the slash separator. Use a cat or less command to verify file contents. 

Lastly, we git push to update origin master on our forked repository.

There are variations to these commands, but this is the typical workflow.

Now let's walk through each of the commands.

<a target="_blank" href="https://cloud.githubusercontent.com/assets/300046/25260672/db2a0606-261b-11e7-95da-50dddda8bcc3.png">
<img alt="git flow youtube 9i9vpsefw-4-650x382-78k.png" src="https://cloud.githubusercontent.com/assets/300046/25260672/db2a0606-261b-11e7-95da-50dddda8bcc3.png"><br />(Click for full screen)</a>


## Resources

https://github.com/Kunena/Kunena-Forum/wiki/How-to-handle-conflicts-with-git


## More on DevOps #

This is one of a series on DevOps:

{% include devops_links.html %}
